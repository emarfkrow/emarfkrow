# DB Design Guideline

**主キーおよび外部キーからテーブル間の関連情報を取得し、  
Entity・Validator・Action・HTMLなどWebアプリケーションに必要なファイルを出力します。**

---

### １．親子パターン

主キー構成の一致関係により、テーブル間の親子関係を判定する。

- **親モデル**  
  主キーが先頭から一致し、かつ主キー数が一つだけ多いテーブルが存在する。

- **子モデル**  
  最終キー以前まで主キーが一致するテーブルが存在する。

### （親子パターン例外）

- **子なしモデル**  
  子モデルを設定しないテーブル。

- **孤児モデル**  
  親モデルを設定しないテーブル。

### ２．兄弟パターン

同一の主キー構成を持つテーブル間の関係を定義する。

- **兄弟モデル**  
  同一の主キーを持つテーブル。

### （兄弟パターン例外）

- **長兄モデル**  
  他のテーブルの兄弟として設定されないテーブル。

- **末弟モデル**  
  他のテーブルを兄弟として設定しないテーブル。

- **里子モデル**  
  兄弟関係の評価対象外とするテーブル。

### ３．履歴パターン

親子パターンを拡張し、履歴管理用テーブルを判定する。

- **履歴モデル**  
  - 親子パターンに該当する
  - 最終キーが連番キーで、変更理由カラムの有無に関わらず全項目が一致する  
  - 履歴元テーブル名が履歴テーブル名に前方一致する
